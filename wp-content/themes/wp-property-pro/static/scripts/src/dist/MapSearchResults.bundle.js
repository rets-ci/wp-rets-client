webpackJsonp([1],{713:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(263),u=o(l),c=r(2),p=o(c),f=r(0),d=o(f),h=r(12),y=r(3),_=o(y),v=r(85),b=o(v),m=r(810),g=o(m),E=r(63),w=o(E),P=r(62),M=o(P),S=r(59),T=o(S),R=r(14),O=r(9),j=o(O),L=r(1),C=r(91),k=o(C),A=r(264),x=o(A),I=r(148),F=(o(I),r(830)),N=o(F),H=r(831),B=o(H),D=r(848),X=o(D),U=r(849),q=o(U),W=window.innerWidth<576,z=function(e,t){var r=w.default.parse(t.location.search.replace("?",""));return{allQueryParams:r,errorMessage:e.errorMessage,query:(0,_.default)(e,"searchResults.query",[]),isFetching:(0,_.default)(e,"searchResults.isFetching",[]),displayedResults:(0,_.default)(e,"searchResults.displayedResults",[]),propertiesModalOpen:(0,_.default)(e,"propertiesModal.open"),propertiesModalResultCountErrorMessage:(0,_.default)(e,"propertiesModal.errorMessage"),propertiesModalResultCountIsFetching:(0,_.default)(e,"propertiesModal.isFetching"),propertiesModalResultCount:(0,_.default)(e,"propertiesModal.resultCount"),propertyTypeOptions:(0,_.default)(e,"propertyTypeOptions.options"),results:(0,_.default)(e,"searchResults.searchResults",[]),resultsTotal:(0,_.default)(e,"searchResults.totalProps",0),saleTypesPanelOpen:(0,_.default)(e,"headerSearch.saleTypesPanelOpen",!1),searchQueryParams:r[L.Lib.QUERY_PARAM_SEARCH_FILTER_PREFIX],searchResultsErrorMessage:(0,_.default)(e,"searchResults.errorMessage")}},Q=function(e,t){return{closeLocationModal:function(){e((0,R.openLocationModal)(!1))},doPropertiesModalSearch:function(t){e((0,R.requestPropertiesModalResultCount)()),T.default.makeStandardPropertySearch(t,function(t,r,o){if(t)return e((0,R.receivePropertiesModalResultCountFetchingError)(t));e((0,R.receivePropertiesModalResultCount)((0,_.default)(o,"hits.total",null)))})},doSearchWithQuery:function(t,r,o){var n=T.default.getPropertySearchRequestURL();e((0,R.requestSearchResultsPosts)()),T.default.search(n,r,function(t,n){if(t)return e((0,R.receiveSearchResultsPostsError)(t));e((0,R.receiveSearchResultsPosts)(r,(0,_.default)(n,"hits.hits",[]),(0,_.default)(n,"hits.total",0),o))})},openPropertiesModal:function(t){e((0,R.openPropertiesModal)(t))},openLocationModal:function(){e((0,R.openLocationModal)(!0))},resetSearchResults:function(){e((0,R.receiveSearchResultsPosts)({},[],0))},standardSearch:function(t,r){e((0,R.requestSearchResultsPosts)()),T.default.makeStandardPropertySearch(r,function(t,r,o){if(t)return e((0,R.receiveSearchResultsPostsError)(t));e((0,R.receiveSearchResultsPosts)(r,(0,_.default)(o,"hits.hits",[]),(0,_.default)(o,"hits.total",0),!1))})},togglePropertiesModalModeInLocationModal:function(t){e((0,R.togglePropertiesModalModeInLocationModal)(t))}}},G=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.dismissNotice=function(){r.setState({noticeDisplay:!1})},r.seeMoreHandler=function(){var e=r.props.query;e.from=r.props.displayedResults.length,r.props.doSearchWithQuery(r.props.errorMessage,e,!0)},r.updateSelectedProperty=function(e){var t={selected_property:e},o=j.default.updateQueryFilter(window.location.href,t,"set",!1);r.props.history.push(window.location.pathname+decodeURIComponent(o))},r.state={mapDisplay:!0,noticeDisplay:!0},r.displayedProperties=[],r}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.applyQueryFilters()}},{key:"componentWillReceiveProps",value:function(e){var t=w.default.parse(window.location.search.replace("?",""));if((0,b.default)(e.searchQueryParams,this.props.searchQueryParams)||this.applyQueryFilters(),e.displayedResults.length>0&&!t.selected_property&&W&&this.updateSelectedProperty(e.displayedResults[0]._id),e.searchQueryParams.search_type!==this.props.searchQueryParams.search_type){this.listingSidebar.scrollTop=0}}},{key:"componentWillUnmount",value:function(){this.props.resetSearchResults()}},{key:"applyQueryFilters",value:function(){var e=j.default.getSearchFiltersFromURL(window.location.href,!0);this.props.standardSearch(this.props.errorMEssage,e)}},{key:"clickMobileSwitcherHandler",value:function(e){this.setState({mapDisplay:e})}},{key:"updateURIGeoCoordinates",value:function(e){var t=new M.default(window.location.href),r=window.location.search.replace("?",""),o=w.default.parse(r);delete o[L.Lib.QUERY_PARAM_SEARCH_FILTER_PREFIX].geoCoordinates,delete o.selected_property,o[L.Lib.QUERY_PARAM_SEARCH_FILTER_PREFIX].geoCoordinates=e;var n="?"+w.default.stringify(o),a=decodeURIComponent(t.pathname()+n);this.props.history.push(a)}},{key:"render",value:function(){var e=this,t=this.props,r=(t.allQueryParams,t.errorMessage),o=t.displayedResults,n=t.doPropertiesModalSearch,a=t.history,i=t.isFetching,s=(t.location,t.openPropertiesModal),l=t.propertiesModalOpen,c=t.propertiesModalResultCount,p=t.propertiesModalResultCountErrorMessage,f=t.propertiesModalResultCountIsFetching,h=t.propertyTypeOptions,y=(t.results,t.resultsTotal),_=w.default.parse(window.location.search.replace("?","")),v=_[L.Lib.QUERY_PARAM_SEARCH_FILTER_PREFIX],b=this.state.noticeDisplay&&o.length>0?d.default.createElement("div",{className:L.Lib.THEME_CLASSES_PREFIX+"caption"},d.default.createElement("span",{className:L.Lib.THEME_CLASSES_PREFIX+"caption-content"},"Showing ",o.length," of ",y," listings. Browse to load more or adjust filters."),d.default.createElement("span",{className:L.Lib.THEME_CLASSES_PREFIX+"caption-dismiss",onClick:this.dismissNotice},"x")):null,m=d.default.createElement("div",{className:L.Lib.THEME_CLASSES_PREFIX+"mobile-bottom-navbar fixed-bottom hidden-sm-up d-flex"},d.default.createElement("div",{className:L.Lib.THEME_CLASSES_PREFIX+"mobile-bottom-navbar-left"},d.default.createElement("span",{onClick:function(){return s(!0)}},"Filter"),d.default.createElement("span",{className:"separator"},"|"),d.default.createElement("span",{onClick:function(){return e.clickMobileSwitcherHandler.bind(e)(!e.state.mapDisplay)}},this.state.mapDisplay?"List":"Map")),d.default.createElement("div",{className:L.Lib.THEME_CLASSES_PREFIX+"mobile-bottom-navbar-right"})),E=d.default.createElement(N.default,{currentGeoBounds:v.geoCoordinates?j.default.elasticsearchGeoFormatToGoogle(v.geoCoordinates):null,historyPush:a.push,location:this.props.location,properties:o,searchByCoordinates:this.updateURIGeoCoordinates.bind(this),selectedProperty:_.selected_property}),P=d.default.createElement(q.default,{properties:o,selectedProperty:_.selected_property,onChangeSlide:this.updateSelectedProperty}),M=d.default.createElement("div",{className:L.Lib.THEME_CLASSES_PREFIX+"search-map"},this.props.searchResultsErrorMessage&&d.default.createElement(u.default,{errorMessage:this.props.searchResultsErrorMessage}),d.default.createElement(x.default,{closeLocationModal:this.props.closeLocationModal,closeModal:function(){return s(!1)},doSearch:n,errorMessage:p,historyPush:a.push,open:l,openLocationModal:this.props.openLocationModal,propertyTypeOptions:h,resultCount:c,resultCountButtonLoading:f,searchFilters:(0,g.default)(v,["geoCoordinates"]),turnOffPropertiesModalModeInLocationModal:function(){return e.props.togglePropertiesModalModeInLocationModal(!1)},turnOnPropertiesModalModeInLocationModal:function(){return e.props.togglePropertiesModalModeInLocationModal(!0)}}),d.default.createElement("section",{className:L.Lib.THEME_CLASSES_PREFIX+"search-map-section row no-gutters h-100"},d.default.createElement("div",{className:"col-sm-6 col-lg-4 h-100 "+L.Lib.THEME_CLASSES_PREFIX+"listing-map "+(this.state.mapDisplay?"":"hidden-xs-down")},b,E,W&&P),(!W||!this.state.mapDisplay)&&d.default.createElement("div",{className:"col-sm-6 col-lg-8 h-100 "+L.Lib.THEME_CLASSES_PREFIX+"listing-sidebar",ref:function(t){return e.listingSidebar=t}},d.default.createElement(X.default,{bathrooms:v.bathrooms,bedrooms:v.bedrooms,price:v.price,saleType:v.sale_type,total:this.props.resultsTotal}),this.props.displayedResults.length>0?d.default.createElement(B.default,{allowPagination:this.props.resultsTotal>this.props.displayedResults.length,isFetching:i,properties:o,seeMoreHandler:this.seeMoreHandler,selectedProperty:_.selected_property,total:this.props.resultsTotal}):r?d.default.createElement(k.default,{message:r}):i?null:d.default.createElement("p",{className:L.Lib.THEME_CLASSES_PREFIX+"gentle-error"},"Nothing to show. Please try adjusting the search parameters")),W&&m));return d.default.createElement("div",{className:L.Lib.THEME_CLASSES_PREFIX+"search-map-container h-100"},M)}}]),t}(f.Component);G.propTypes={doPropertiesModalSearch:p.default.func.isRequired,doSearchWithQuery:p.default.func.isRequired,history:p.default.object.isRequired,isFetching:p.default.bool.isRequired,location:p.default.object,params:p.default.object,propertiesModalOpen:p.default.bool.isRequired,propertiesModalResultCount:p.default.oneOfType([p.default.number,p.default.string]),propertiesModalResultCountErrorMessage:p.default.string,propertiesModalResultCountIsFetching:p.default.bool.isRequired,resetSearchResults:p.default.func.isRequired,results:p.default.array.isRequired,searchResultsErrorMessage:p.default.string},t.default=(0,h.connect)(z,Q)(G)},715:function(e,t,r){function o(e,t,r,o){var i=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),i?a(r,u,c):n(r,u,c)}return r}var n=r(260),a=r(261);e.exports=o},719:function(e,t,r){function o(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}var n=r(266);e.exports=o},721:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(2),u=o(l),c=r(0),p=o(c),f=r(1),d=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.containerHeight,r=e.verticallyCentered;return p.default.createElement("div",{className:r?f.Lib.THEME_CLASSES_PREFIX+"spinner-container":null,style:{height:t}},p.default.createElement("div",{className:f.Lib.THEME_CLASSES_PREFIX+"spinner-circle my-auto text-center"},p.default.createElement("div",{className:f.Lib.THEME_CLASSES_PREFIX+"double-bounce1 rounded-circle"}),p.default.createElement("div",{className:f.Lib.THEME_CLASSES_PREFIX+"double-bounce2 rounded-circle"})))}}]),t}(c.Component);d.propTypes={verticallyCentered:u.default.bool,containerHeight:u.default.string},t.default=d},722:function(e,t,r){(function(e){function o(e,t){if(t)return e.slice();var r=e.length,o=u?u(r):new e.constructor(r);return e.copy(o),o}var n=r(22),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=o}).call(t,r(45)(e))},723:function(e,t,r){function o(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var n=r(719);e.exports=o},724:function(e,t){function r(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}e.exports=r},725:function(e,t,r){function o(e){return"function"!=typeof e.constructor||i(e)?{}:n(a(e))}var n=r(726),a=r(259),i=r(83);e.exports=o},726:function(e,t,r){var o=r(32),n=Object.create,a=function(){function e(){}return function(t){if(!o(t))return{};if(n)return n(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=a},727:function(e,t,r){function o(e){if(!i(e)||n(e)!=s)return!1;var t=a(e);if(null===t)return!0;var r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==f}var n=r(34),a=r(259),i=r(28),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,f=c.call(Object);e.exports=o},739:function(e,t){function r(e,t,r,o){var n=-1,a=null==e?0:e.length;for(o&&a&&(r=e[++n]);++n<a;)r=t(r,e[n],n,e);return r}e.exports=r},740:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={above:"above",inside:"inside",below:"below",invisible:"invisible"},e.exports=t.default},810:function(e,t,r){var o=r(89),n=r(811),a=r(825),i=r(58),s=r(715),l=r(827),u=r(828),c=r(267),p=u(function(e,t){var r={};if(null==e)return r;var u=!1;t=o(t,function(t){return t=i(t,e),u||(u=t.length>1),t}),s(e,c(e),r),u&&(r=n(r,7,l));for(var p=t.length;p--;)a(r,t[p]);return r});e.exports=p},811:function(e,t,r){function o(e,t,r,C,k,A){var x,I=t&P,F=t&M,N=t&S;if(r&&(x=k?r(e,C,k,A):r(e)),void 0!==x)return x;if(!E(e))return e;var H=m(e);if(H){if(x=_(e),!I)return c(e,x)}else{var B=y(e),D=B==R||B==O;if(g(e))return u(e,I);if(B==j||B==T||D&&!k){if(x=F||D?{}:b(e),!I)return F?f(e,l(x,e)):p(e,s(x,e))}else{if(!L[B])return k?e:{};x=v(e,B,o,I)}}A||(A=new n);var X=A.get(e);if(X)return X;A.set(e,x);var U=N?F?h:d:F?keysIn:w,q=H?void 0:U(e);return a(q||e,function(n,a){q&&(a=n,n=e[a]),i(x,a,o(n,t,r,a,e,A))}),x}var n=r(143),a=r(282),i=r(260),s=r(812),l=r(813),u=r(722),c=r(724),p=r(814),f=r(815),d=r(280),h=r(267),y=r(146),_=r(816),v=r(817),b=r(725),m=r(19),g=r(84),E=r(32),w=r(86),P=1,M=2,S=4,T="[object Arguments]",R="[object Function]",O="[object GeneratorFunction]",j="[object Object]",L={};L[T]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object DataView]"]=L["[object Boolean]"]=L["[object Date]"]=L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Map]"]=L["[object Number]"]=L[j]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object Symbol]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Error]"]=L[R]=L["[object WeakMap]"]=!1,e.exports=o},812:function(e,t,r){function o(e,t){return e&&n(t,a(t),e)}var n=r(715),a=r(86);e.exports=o},813:function(e,t,r){function o(e,t){return e&&n(t,a(t),e)}var n=r(715),a=r(262);e.exports=o},814:function(e,t,r){function o(e,t){return n(e,a(e),t)}var n=r(715),a=r(147);e.exports=o},815:function(e,t,r){function o(e,t){return n(e,a(e),t)}var n=r(715),a=r(281);e.exports=o},816:function(e,t){function r(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var o=Object.prototype,n=o.hasOwnProperty;e.exports=r},817:function(e,t,r){function o(e,t,r,o){var L=e.constructor;switch(t){case m:return n(e);case p:case f:return new L(+e);case g:return a(e,o);case E:case w:case P:case M:case S:case T:case R:case O:case j:return c(e,o);case d:return i(e,o,r);case h:case v:return new L(e);case y:return s(e);case _:return l(e,o,r);case b:return u(e)}}var n=r(719),a=r(818),i=r(819),s=r(821),l=r(822),u=r(824),c=r(723),p="[object Boolean]",f="[object Date]",d="[object Map]",h="[object Number]",y="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",E="[object Float32Array]",w="[object Float64Array]",P="[object Int8Array]",M="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",O="[object Uint16Array]",j="[object Uint32Array]";e.exports=o},818:function(e,t,r){function o(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var n=r(719);e.exports=o},819:function(e,t,r){function o(e,t,r){var o=t?r(i(e),s):i(e);return a(o,n,new e.constructor)}var n=r(820),a=r(739),i=r(278),s=1;e.exports=o},820:function(e,t){function r(e,t){return e.set(t[0],t[1]),e}e.exports=r},821:function(e,t){function r(e){var t=new e.constructor(e.source,o.exec(e));return t.lastIndex=e.lastIndex,t}var o=/\w*$/;e.exports=r},822:function(e,t,r){function o(e,t,r){var o=t?r(i(e),s):i(e);return a(o,n,new e.constructor)}var n=r(823),a=r(739),i=r(279),s=1;e.exports=o},823:function(e,t){function r(e,t){return e.add(t),e}e.exports=r},824:function(e,t,r){function o(e){return i?Object(i.call(e)):{}}var n=r(46),a=n?n.prototype:void 0,i=a?a.valueOf:void 0;e.exports=o},825:function(e,t,r){function o(e,t){return t=n(t,e),null==(e=i(e,t))||delete e[s(a(t))]}var n=r(58),a=r(270),i=r(826),s=r(47);e.exports=o},826:function(e,t,r){function o(e,t){return t.length<2?e:n(e,a(t,0,-1))}var n=r(88),a=r(271);e.exports=o},827:function(e,t,r){function o(e){return n(e)?void 0:e}var n=r(727);e.exports=o},828:function(e,t,r){function o(e){return i(a(e,void 0,n),e+"")}var n=r(829),a=r(275),i=r(276);e.exports=o},829:function(e,t,r){function o(e){return(null==e?0:e.length)?n(e,1):[]}var n=r(273);e.exports=o},830:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(0),u=o(l),c=r(2),p=o(c),f=r(85),d=o(f),h=r(9),y=o(h),_=r(1),v={url:bundle.static_images_url+"oval-3-25.png"},b={url:bundle.static_images_url+"oval-selected-3-25.png"},m=window.innerWidth<_.Lib.MOBILE_WIDTH,g=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onMapChange=function(){if(!(r.map.getZoom()>=_.Lib.MAP_CHANGE_ZOOM_LIMIT||0===r.props.properties.length||r.updatingProperties)){var e=r.map.getBounds(),t=e.getNorthEast(),o=e.getSouthWest();r.props.searchByCoordinates(y.default.googleGeoFormatToElasticsearch({ne:{lat:t.lat(),lon:t.lng()},sw:{lat:o.lat(),lon:o.lng()}})),r.setState({dragMode:!0})}},r.bounds,r.map,r.markers=[],r.state={dragMode:!1},r}return i(t,e),s(t,[{key:"calculateGeoRectangleCenterPoint",value:function(e,t,r,o){var n=new google.maps.LatLngBounds({lat:+r,lng:+o},{lat:+e,lng:+t}).getCenter();return{lat:n.lat(),lng:n.lng()}}},{key:"clearBounds",value:function(){this.bounds=new google.maps.LatLngBounds}},{key:"componentWillReceiveProps",value:function(e){if(!(0,d.default)(e.properties,this.props.properties)){if(this.updatingProperties=!0,!this.state.dragMode){var t=this.getInitialCoordinates(null,e.properties);this.setMapCoordinates(t)}this.clearMarkers(),this.clearBounds(),this.setPropertyMarkers(e.properties),this.state.dragMode||(this.map.fitBounds(this.bounds),this.map.getZoom()<9&&this.map.setZoom(9)),this.updatingProperties=!1}(!this.markers.filter(function(e){return e.selected}).length||e.selectedProperty!==this.markers.filter(function(e){return e.selected})[0].propertyId)&&(this.deselectMarkers(this.markers),this.selectMarker(this.markers,e.selectedProperty)),this.setState({dragMode:!1})}},{key:"clearMarkers",value:function(){this.markers.forEach(function(e){e.setMap(null)}),this.markers=[]}},{key:"getInitialCoordinates",value:function(e,t){return e?this.calculateGeoRectangleCenterPoint(e.ne.lat,e.ne.lon,e.sw.lat,e.sw.Lon):t&&t.length?{lat:t.length?+t[0]._source.post_meta.wpp_location_pin[0]:0,lng:t.length?+t[0]._source.post_meta.wpp_location_pin[1]:0}:{lat:_.Lib.DEFAULT_MAP_COORDINATES.lat,lng:_.Lib.DEFAULT_MAP_COORDINATES.lng}}},{key:"setMapCoordinates",value:function(e){this.map?this.map.setCenter(new google.maps.LatLng(e.lat,e.lng)):this.map=new window.google.maps.Map(this.mapElement,{center:e,mapTypeControlOptions:{mapTypeIds:[]},scrollwheel:!1,streetViewControl:!1,zoom:9,zoomControl:!1===m})}},{key:"setPropertyMarkers",value:function(e){var t=this;e.forEach(function(e){var r=new window.google.maps.LatLng(e._source.wpp_location_pin.lat,e._source.wpp_location_pin.lon),o=new window.google.maps.Marker({icon:v,position:r,map:t.map});o.propertyId=e._id,o.selected=!1,o.addListener("click",function(){var e={selected_property:o.propertyId},r=y.default.updateQueryFilter(window.location.href,e,"set",!1);t.props.historyPush(window.location.pathname+decodeURIComponent(r))}),t.markers.push(o),t.bounds.extend(r)})}},{key:"componentDidMount",value:function(){var e=this.props.currentGeoBounds,t=this.getInitialCoordinates(e,null);this.setMapCoordinates(t),this.map.addListener("dragend",this.onMapChange),this.map.addListener("zoom_changed",this.onMapChange)}},{key:"deselectMarkers",value:function(e){var t=e.filter(function(e){return e.selected});t.length&&t.forEach(function(e){e.selected=!1,e.setIcon(v)})}},{key:"selectMarker",value:function(e,t){var r=e.filter(function(e){return e.propertyId===t});r.length&&(r[0].setIcon(b),r[0].selected=!0)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{id:_.Lib.THEME_CLASSES_PREFIX+"Map",ref:function(t){return e.mapElement=t}})}}]),t}(l.Component);g.propTypes={currentGeoBounds:p.default.object,historyPush:p.default.func.isRequired,searchByCoordinates:p.default.func.isRequired,properties:p.default.array.isRequired},t.default=g},831:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(0),u=o(l),c=r(832),p=o(c),f=r(2),d=o(f),h=r(833),y=o(h),_=r(265),v=o(_),b=r(721),m=o(b),g=r(1),E=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={loading:!1},r}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.allowPagination!==this.props.allowPagination||e.isFetching!==this.props.isFetching||(0,v.default)(e.properties,this.props.properties).length||e.selectedProperty!==this.props.selectedProperty||e.total!==this.props.total}},{key:"componentWillReceiveProps",value:function(e){e.properties!==this.props.properties&&this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=t.isFetching,o=t.properties,n=t.selectedProperty,a=t.total,i=[];return i.push(g.Lib.THEME_CLASSES_PREFIX+"listing-wrap"),r&&i.push(g.Lib.THEME_CLASSES_PREFIX+"loading-overlay"),u.default.createElement("div",{className:g.Lib.THEME_CLASSES_PREFIX+"listing-wrap-container h-100"},u.default.createElement("div",{className:i.join(" ")},u.default.createElement(p.default,{properties:o,selectedProperty:n})),this.props.allowPagination?u.default.createElement("div",{className:g.Lib.THEME_CLASSES_PREFIX+"search-result-container"},u.default.createElement("div",{className:g.Lib.THEME_CLASSES_PREFIX+"search-result-inner-container"},this.state.loading?u.default.createElement(m.default,null):null,u.default.createElement("p",null,"Showing ",this.props.properties.length," out of ",a," results"),this.state.loading?null:u.default.createElement("div",{className:g.Lib.THEME_CLASSES_PREFIX+"waypoint-container"},u.default.createElement(y.default,{onEnter:function(){e.setState({loading:!0}),e.props.seeMoreHandler()}})),u.default.createElement("p",null))):null)}}]),t}(l.Component);E.propTypes={allowPagination:d.default.bool.isRequired,properties:d.default.array.isRequired,seeMoreHandler:d.default.func.isRequired,total:d.default.number},t.default=E},832:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(265),u=o(l),c=r(3),p=o(c),f=r(268),d=o(f),h=r(2),y=o(h),_=r(0),v=o(_),b=r(33),m=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r.propertiesDOM={},r}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.properties.length&&this.props.selectedProperty&&this.scrollToProperty(this.props.selectedProperty)}},{key:"componentDidUpdate",value:function(){this.props.properties.length&&this.props.selectedProperty&&this.scrollToProperty(this.props.selectedProperty)}},{key:"scrollToProperty",value:function(e){if(this.propertiesDOM[e]){(0,b.findDOMNode)(this.propertiesDOM[e]).scrollIntoView({behaviour:"smooth"})}else console.log("chosen property was not found in the results")}},{key:"shouldComponentUpdate",value:function(e){return(0,u.default)(e.properties,this.props.properties).length||e.selectedProperty!==this.props.selectedProperty}},{key:"render",value:function(){var e=this,t=this.props,r=t.selectedProperty,o=t.properties;return v.default.createElement("div",{className:"row"},o.map(function(t,o){var n={address:(0,p.default)(t,"_source.post_meta.rets_address",[""])[0],address_unit:(0,p.default)(t,"_source.post_meta.address_unit","")[0],location:(0,p.default)(t,"_source.post_meta.wpp_location_pin",[]),baths:(0,p.default)(t,"_source.post_meta.rets_total_baths",0),beds:(0,p.default)(t,"_source.post_meta.rets_beds",0),city:(0,p.default)(t,"_source.tax_input.wpp_location.wpp_location_city[0].name",""),gallery_images:(0,p.default)(t,"_source.wpp_media",[]).map(function(e){return e.url}),id:t._id,living_area:(0,p.default)(t,"_source.post_meta.rets_living_area",0),lots_size:(0,p.default)(t,"_source.post_meta.rets_lot_size_area",0),price:(0,p.default)(t,"_source.post_meta.rets_list_price[0]",0),post_name:(0,p.default)(t,"_source.post_name",0),state:(0,p.default)(t,"_source.tax_input.wpp_location.wpp_location_state[0].name",""),type:(0,p.default)(t,"_source.tax_input.wpp_listing_type.listing_type[0].slug",""),sqft:(0,p.default)(t,"_source.post_meta.sqft[0]",""),sub_type:(0,p.default)(t,"_source.tax_input.wpp_listing_type.listing_sub_type[0].name",""),relative_permalink:(0,p.default)(t,"_source.permalink",""),thumbnail:(0,p.default)(t,"_source.post_meta.rets_thumbnail_url",[""])[0],zip:(0,p.default)(t,"_source.post_meta.rets_postal_code[0]","")};return v.default.createElement("div",{className:"col-12 col-md-12 col-lg-6 col-xl-4",key:t._id},v.default.createElement(d.default,{data:n,highlighted:r===t._id,propertiesDOM:e.propertiesDOM}))}))}}]),t}(_.Component);m.propTypes={properties:y.default.array.isRequired,selectedProperty:y.default.string},t.default=m},833:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(834),u=r(0),c=o(u),p=r(840),f=o(p),d=r(740),h=o(d),y=r(843),_=(o(y),r(844)),v=o(_),b=r(846),m=o(b),g=r(847),E=o(g),w={topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},P=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.refElement=function(e){return r._ref=e},r}return i(t,e),s(t,[{key:"componentWillMount",value:function(){if((0,v.default)(this.props.children),this.props.scrollableParent)throw new Error("The `scrollableParent` prop has changed name to `scrollableAncestor`.")}},{key:"componentDidMount",value:function(){var e=this;t.getWindow()&&(this._handleScroll=this._handleScroll.bind(this),this.scrollableAncestor=this._findScrollableAncestor(),this.scrollEventListenerHandle=(0,l.addEventListener)(this.scrollableAncestor,"scroll",this._handleScroll,{passive:!0}),this.resizeEventListenerHandle=(0,l.addEventListener)(window,"resize",this._handleScroll,{passive:!0}),this.initialTimeout=setTimeout(function(){e.initialTimeout=null,e._handleScroll(null)},0))}},{key:"componentWillReceiveProps",value:function(e){(0,v.default)(e.children)}},{key:"componentDidUpdate",value:function(){t.getWindow()&&this._handleScroll(null)}},{key:"componentWillUnmount",value:function(){t.getWindow()&&((0,l.removeEventListener)(this.scrollEventListenerHandle),(0,l.removeEventListener)(this.resizeEventListenerHandle),this.initialTimeout&&clearTimeout(this.initialTimeout))}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return(0,E.default)(r);for(var o=this._ref;o.parentNode;)if((o=o.parentNode)!==document&&o!==document.documentElement){var n=window.getComputedStyle(o),a=t?n.getPropertyValue("overflow-x"):n.getPropertyValue("overflow-y"),i=a||n.getPropertyValue("overflow");if("auto"===i||"scroll"===i)return o}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),r=(0,m.default)(t),o=this._previousPosition;if(this._previousPosition=r,o!==r){var n={currentPosition:r,previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};this.props.onPositionChange.call(this,n),r===h.default.inside?this.props.onEnter.call(this,n):o===h.default.inside&&this.props.onLeave.call(this,n);var a=o===h.default.below&&r===h.default.above,i=o===h.default.above&&r===h.default.below;this.props.fireOnRapidScroll&&(a||i)&&(this.props.onEnter.call(this,{currentPosition:h.default.inside,previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),this.props.onLeave.call(this,{currentPosition:r,previousPosition:h.default.inside,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e=this.props.horizontal,t=this._ref.getBoundingClientRect(),r=t.left,o=t.top,n=t.right,a=t.bottom,i=e?r:o,s=e?n:a,l=void 0,u=void 0;this.scrollableAncestor===window?(l=e?window.innerWidth:window.innerHeight,u=0):(l=e?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,u=e?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var c=this.props,p=c.bottomOffset,d=c.topOffset;return{waypointTop:i,waypointBottom:s,viewportTop:u+(0,f.default)(d,l),viewportBottom:u+l-(0,f.default)(p,l)}}},{key:"render",value:function(){var e=this,t=this.props.children;if(!t)return c.default.createElement("span",{ref:this.refElement,style:{fontSize:0}});var r=function(r){e.refElement(r),t.ref&&t.ref(r)};return c.default.cloneElement(t,{ref:r})}}]),t}(c.default.Component);t.default=P,P.propTypes={children:u.PropTypes.element,debug:u.PropTypes.bool,onEnter:u.PropTypes.func,onLeave:u.PropTypes.func,onPositionChange:u.PropTypes.func,fireOnRapidScroll:u.PropTypes.bool,scrollableAncestor:u.PropTypes.any,horizontal:u.PropTypes.bool,topOffset:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),bottomOffset:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number])},P.above=h.default.above,P.below=h.default.below,P.inside=h.default.inside,P.invisible=h.default.invisible,P.getWindow=function(){if("undefined"!=typeof window)return window},P.defaultProps=w,P.displayName="Waypoint",e.exports=t.default},834:function(e,t,r){function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r,o){e[c]||(e[c]=new u.default(e));var n=(0,s.default)(o);return e[c].add(t,r,n)}function a(e){var t=e.target;t&&t[c].delete(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_HANDLERS_KEY=void 0,t.addEventListener=n,t.removeEventListener=a;var i=r(835),s=o(i),l=r(838),u=o(l),c=t.EVENT_HANDLERS_KEY="__consolidated_events_handlers__"},835:function(e,t,r){function o(e){if(e)return(0,a.default)()?e:!!e.capture}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(836),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},836:function(e,t,r){function o(){if(!i.default)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){function t(){e=!0}return t}()});window.addEventListener("test",null,t)}catch(e){}return e}function n(){return void 0===s&&(s=o()),s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=r(837),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=void 0},837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r},838:function(e,t,r){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=r(839),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t){o(this,e),this.target=t,this.events={}}return n(e,[{key:"getEventHandlers",value:function(){function e(e,t){var r=String(e)+" "+String((0,i.default)(t));return this.events[r]||(this.events[r]={size:0,index:0,handlers:{},handleEvent:void 0}),this.events[r]}return e}()},{key:"handleEvent",value:function(){function e(e,t,r){var o=this.getEventHandlers(e,t),n=o.handlers;Object.keys(n).forEach(function(e){var t=n[e];t&&t(r)})}return e}()},{key:"add",value:function(){function e(e,t,r){var o=this.getEventHandlers(e,r);return 0===o.size&&(o.handleEvent=this.handleEvent.bind(this,e,r),this.target.addEventListener(e,o.handleEvent,r)),o.size+=1,o.index+=1,o.handlers[o.index]=t,{target:this.target,eventName:e,options:r,index:o.index}}return e}()},{key:"delete",value:function(){function e(e){var t=e.eventName,r=e.index,o=e.options,n=this.getEventHandlers(t,o);0!==n.size&&(n.handlers[r]&&(delete n.handlers[r],n.size-=1),0===n.size&&(this.target.removeEventListener(t,n.handleEvent,o),n.handleEvent=void 0))}return e}()}]),e}();t.default=s},839:function(e,t){function r(e){return e?!0===e?100:(e.capture<<0)+(e.passive<<1)+(e.once<<2):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},840:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var r=(0,l.default)(e);if("number"==typeof r)return r;var o=(0,i.default)(e);return"number"==typeof o?o*t:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=r(841),i=o(a),s=r(842),l=o(s);e.exports=t.default},841:function(e,t,r){"use strict";function o(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},842:function(e,t,r){"use strict";function o(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):"px"===e.slice(-2)?parseFloat(e.slice(0,-2)):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},843:function(e,t,r){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},844:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&(i.default.Children.only(e),!(0,l.default)(e)))throw new Error("You must wrap any Component Elements passed to Waypoint in a DOM Element (eg; a <div>).")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=r(0),i=o(a),s=r(845),l=o(s);e.exports=t.default},845:function(e,t,r){"use strict";function o(e){return"string"==typeof e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},846:function(e,t,r){"use strict";function o(e){return e.viewportBottom-e.viewportTop==0?a.default.invisible:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom?a.default.inside:e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom?a.default.inside:e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?a.default.inside:e.viewportBottom<e.waypointTop?a.default.below:e.waypointTop<e.viewportTop?a.default.above:a.default.invisible}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(740),a=function(e){return e&&e.__esModule?e:{default:e}}(n);e.exports=t.default},847:function(e,t,r){"use strict";(function(r){function o(e){return"window"===e?r.window:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default}).call(t,r(16))},848:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(0),u=o(l),c=r(2),p=o(c),f=r(1),d=r(9),h=o(d),y=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getMainText",value:function(e){var t=e.bathrooms,r=e.bedrooms,o=e.saleType,n=e.total,a=e.price,i="";if(n&&o&&(i+="There are "+n+" homes for "+o+" in this area"),!a||a.to===f.Lib.RANGE_SLIDER_NO_MAX_TEXT&&a.start===f.Lib.RANGE_SLIDER_NO_MIN_TEXT||(i+=" that are priced",a.to===f.Lib.RANGE_SLIDER_NO_MAX_TEXT?i+=" more than "+h.default.formatPriceValue(a.start)+" ":a.start===f.Lib.RANGE_SLIDER_NO_MIN_TEXT?i+=" less than "+h.default.formatPriceValue(a.to)+" ":i+=" between "+h.default.formatPriceValue(a.start)+" and "+h.default.formatPriceValue(a.to)),r&&(i+=" with "+r+" or more bedrooms"),t){i+=(r?" and":" with")+" "+t+" or more bathrooms"}return i}},{key:"render",value:function(){var e="Homes for "+this.props.saleType,t=this.getMainText(this.props);return u.default.createElement("div",{className:f.Lib.THEME_CLASSES_PREFIX+"headtitle"},u.default.createElement("h1",null,e),u.default.createElement("p",null,t))}}]),t}(l.Component);y.propTypes={bathrooms:p.default.string,bedrooms:p.default.string,price:p.default.object,saleType:p.default.string.isRequired,total:p.default.number},t.default=y},849:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(0),u=o(l),c=r(2),p=o(c),f=r(144),d=o(f),h=r(3),y=o(h),_=r(1),v=r(268),b=o(v),m=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.slideToId=function(e){var t=(r.props.properties||[]).findIndex(function(t){return t._id===e});r.swiper&&t>-1&&r.swiper.slideTo(t)},r.swiper=null,r}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.selectedProperty!==this.props.selectedProperty&&this.slideToId(e.selectedProperty)}},{key:"render",value:function(){var e=this,t=this.props.properties,r={slidesPerView:1,slidesPerGroup:1,spaceBetween:0,onInit:function(t){e.swiper=t},onSlideChangeEnd:function(t){var r=e.props.properties[t.activeIndex];e.props.onChangeSlide(r._id)}};return u.default.createElement("div",{className:_.Lib.THEME_CLASSES_PREFIX+"listing-wrap hidden-sm-up"},t.length>0&&u.default.createElement(d.default,r,t.map(function(e,t){var r={address:(0,y.default)(e,"_source.post_meta.rets_address",[""])[0],address_unit:(0,y.default)(e,"_source.post_meta.address_unit",""),location:(0,y.default)(e,"_source.post_meta.wpp_location_pin",[]),baths:(0,y.default)(e,"_source.post_meta.rets_total_baths",0),beds:(0,y.default)(e,"_source.post_meta.rets_beds",0),city:(0,y.default)(e,"_source.tax_input.wpp_location.wpp_location_city[0].name",""),gallery_images:(0,y.default)(e,"_source.wpp_media",[]).map(function(e){return e.url}),id:e._id,living_area:(0,y.default)(e,"_source.post_meta.rets_living_area",0),lots_size:(0,y.default)(e,"_source.post_meta.rets_lot_size_area",0),price:(0,y.default)(e,"_source.post_meta.rets_list_price[0]",0),post_name:(0,y.default)(e,"_source.post_name",0),state:(0,y.default)(e,"_source.tax_input.wpp_location.wpp_location_state[0].name",""),type:(0,y.default)(e,"_source.tax_input.wpp_listing_type.listing_type[0].slug",""),sub_type:(0,y.default)(e,"_source.tax_input.wpp_listing_type.listing_sub_type[0].name",""),relative_permalink:(0,y.default)(e,"_source.permalink",""),thumbnail:(0,y.default)(e,"_source.post_meta.rets_thumbnail_url",[""])[0],zip:(0,y.default)(e,"_source.post_meta.rets_postal_code[0]","")};return u.default.createElement("div",{className:"swiper-slide",key:t},u.default.createElement(b.default,{data:r}))})))}}]),t}(l.Component);m.propTypes={properties:p.default.array,selectedProperty:p.default.string,onChangeSlide:p.default.func},t.default=m}});
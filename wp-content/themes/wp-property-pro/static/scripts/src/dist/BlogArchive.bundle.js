webpackJsonp([3],{555:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=r(i),c=n(11),f=n(65),p=r(f),d=n(211),b=r(d),_=n(596),g=r(_),y=n(2),m=r(y),E=n(13),h=n(1),v=n(3),P=r(v),w=function(e){return{}},S=function(e,t){return{getPosts:function(t,n){jQuery.ajax({url:P.default.get(bundle,"admin_ajax_url",""),type:"get",data:{action:h.Lib.AJAX_GET_POSTS_ACTION,from:t,category_id:n},dataType:"json",success:function(t){P.default.get(t,"posts",null)&&e((0,E.setBlogPosts)(P.default.get(t,"posts",[]),P.default.get(t,"allowPagination",!1)))},error:function(e,t,n){console.log(t,n)}})}}},O=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"componentDidMount",value:function(){var e=P.default.get(this.props.post,"blog_content",{});this.props.getPosts(0,P.default.get(e,"category_id",0))}},{key:"render",value:function(){var e=P.default.get(this.props.post,"blog_content",{});return s.default.createElement("div",{className:"container-fluid"},s.default.createElement("div",{className:"row"},s.default.createElement(p.default,{widget_cell:P.default.get(e,"masthead")}),s.default.createElement(b.default,{widget_cell:P.default.get(e,"subnavigation"),currentUrl:P.default.get(this.props.post,"post_url","")}),s.default.createElement(g.default,{seeMoreHandler:this.props.getPosts,categoryId:P.default.get(e,"category_id")})))}}]),t}(i.Component);O.propTypes={post:m.default.object.isRequired};var j=(0,c.connect)(w,S)(O);t.default=j},564:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=r(i),c=n(0),f=r(c),p=n(1),d=n(3),b=(r(d),function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.containerHeight,n=e.verticallyCentered;return f.default.createElement("div",{className:n?p.Lib.THEME_CLASSES_PREFIX+"spinner-container":null,style:{height:t}},f.default.createElement("div",{className:p.Lib.THEME_CLASSES_PREFIX+"spinner-circle my-auto text-center"},f.default.createElement("div",{className:p.Lib.THEME_CLASSES_PREFIX+"double-bounce1 rounded-circle"}),f.default.createElement("div",{className:p.Lib.THEME_CLASSES_PREFIX+"double-bounce2 rounded-circle"})))}}]),t}(c.Component));b.propTypes={verticallyCentered:s.default.bool,containerHeight:s.default.string},t.default=b},596:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=r(i),c=n(0),f=r(c),p=n(11),d=n(564),b=r(d),_=n(212),g=r(_),y=n(1),m=n(3),E=r(m),h=function(e){return{posts:E.default.get(e,"blogPostsState.posts",[]),allowPagination:E.default.get(e,"blogPostsState.allowPagination",!1)}},v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!1},n}return l(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){(e.posts!==this.props.posts||E.default.isEmpty(e.posts))&&this.setState({loading:!1})}},{key:"seeMore",value:function(e,t){e.preventDefault(),this.setState({loading:!0}),this.props.seeMoreHandler(this.props.posts.length,t)}},{key:"render",value:function(){var e=this,t=this,n=E.default.get(this.props,"posts",[]),r=[];if(n){var o=[];n.map(function(e){o.push(e),o.length===y.Lib.BLOG_POSTS_PER_ROW&&(r.push(o),o=[])})}return f.default.createElement("section",{className:y.Lib.THEME_CLASSES_PREFIX+"blog-posts"},f.default.createElement("div",{className:"container"},f.default.createElement("div",{className:"row"},!this.state.loading||r?r.map(function(e,t){var n=e.map(function(e,t){return f.default.createElement(g.default,{data:{title:E.default.get(e,"title",""),excerpt:E.default.get(e,"excerpt",""),image_src:E.default.get(e,"image_src",""),image_title:E.default.get(e,"image_title",""),image_alt:E.default.get(e,"image_alt",""),url:E.default.get(e,"url",""),relative_url:E.default.get(e,"relative_url","")},key:t})});return f.default.createElement("div",{className:"card-deck "+y.Lib.THEME_CLASSES_PREFIX+"blog-posts-row",key:t},n)}):f.default.createElement(b.default,null)),this.props.allowPagination?f.default.createElement("div",{className:"row"},f.default.createElement("div",{className:y.Lib.THEME_CLASSES_PREFIX+"load-more mx-auto"},this.state.loading?f.default.createElement(b.default,null):f.default.createElement("a",{href:"#",onClick:function(n){return t.seeMore.bind(e)(n,e.props.categoryId)},className:"btn btn-primary "+y.Lib.THEME_CLASSES_PREFIX+"load-more-link"},"Load More"))):null))}}]),t}(c.Component);v.propTypes={seeMoreHandler:s.default.func.isRequired,categoryId:s.default.number.isRequired},t.default=(0,p.connect)(h)(v)}});